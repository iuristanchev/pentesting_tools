#!/bin/bash   
IP=$1
TOP20_TCPSTAN=tcp_standard_top20.txt
TOP20_GREP=grep_top20.txt
SNMP_GREP=grep_snmp.txt
BANNER_GREP=banner_snmp.txt
REG_TCPSTAN=tcp_standard_REG.txt
REG_GREP=grep_REG.txt
WEB_GREP=grep_WEB.txt
PING_GREP=grep_PING.txt

nmap -v -sn $IP -oG $PING_GREP
grep Up $PING_GREP | cut -d " " -f 2
nmap -p 80 $IP -oG $WEB_GREP
grep open $WEB_GREP |cut -d " " -f 2
nmap -sU --open -p 161 $IP -oG $SNMP_GREP
nmap -sS -O -p1-65535 --script banner $IP -oG $BANNER_GREP
nmap -sT -A --top-ports=20 -oN $TOP20_TCPSTAN -oG $TOP20_GREP $IP
nmap -Pn -T4 -sS -sV -sC -oN $REG_TCPSTAN -oG $REG_GREP $IP
